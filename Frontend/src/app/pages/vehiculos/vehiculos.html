<div class="app-layout">
  <app-sidebar [isOpen]="sidebarOpen()" (closeSidebar)="toggleSidebar()"></app-sidebar>
  <div class="main-content" [class.sidebar-open]="sidebarOpen()">
    <app-header (toggleSidebar)="toggleSidebar()"></app-header>
    <main class="page-content">
      <div class="page-header"><h1>Gestión de Vehículos</h1><p>Administra los vehículos registrados</p></div>
      
      <!-- Modal Editar -->
      <!-- Modal Editar -->
<div class="modal-overlay" *ngIf="editando()">
  <div class="modal-box">
    <h3>Editar Vehículo</h3>

    <div class="form-group">
      <label>Placa</label>
      <input [ngModel]="editando()?.placa" (ngModelChange)="actualizarCampo('placa', $event)">
    </div>

    <div class="form-group">
      <label>Marca</label>
      <input [ngModel]="editando()?.marca" (ngModelChange)="actualizarCampo('marca', $event)">
    </div>

    <div class="form-group">
      <label>Modelo</label>
      <input [ngModel]="editando()?.modelo" (ngModelChange)="actualizarCampo('modelo', $event)">
    </div>

    <div class="form-group">
      <label>Estado</label>
      <select [ngModel]="editando()?.activo" (ngModelChange)="actualizarCampo('activo', $event)">
        <option [ngValue]="true">Activo</option>
        <option [ngValue]="false">Inactivo</option>
      </select>
    </div>

    <div class="actions">
      <button class="btn-cancel" (click)="cancelarEdicion()">Cancelar</button>
      <button class="btn-save" (click)="guardarEdicion()">Guardar</button>
    </div>
  </div>
</div>


      <div class="vehiculos-list" *ngIf="vehiculos().length > 0; else noVehiculos">
        <div class="vehiculo-card" *ngFor="let v of vehiculos()">
          <div class="vehiculo-icon"><i class="fa-solid fa-truck"></i></div>
          <div class="vehiculo-info">
            <h3>{{ v.placa }}</h3>
            <p>{{ v.marca }} - {{ v.modelo }}</p>
          </div>
          <span class="status" [class.activo]="v.activo" [class.inactivo]="!v.activo">{{ v.activo ? 'Activo' : 'Inactivo' }}</span>
          <div class="vehiculo-actions">
            <button class="btn-icon" (click)="editarVehiculo(v)" title="Editar"><i class="fa-solid fa-pen"></i></button>
            <button class="btn-icon danger" (click)="eliminarVehiculo(v)" title="Eliminar"><i class="fa-solid fa-trash"></i></button>
          </div>
        </div>
      </div>
      <ng-template #noVehiculos><div class="empty-state"><i class="fa-solid fa-truck"></i><p>No hay vehículos registrados</p></div></ng-template>
    </main>
  </div>
</div>
